{% extends "base.html" %}
{% from "components/breadcrumbs.html" import render as breadcrumbs %}

{% block title %}Integrações{% endblock %}

{% block breadcrumbs %}
{{ breadcrumbs([
    {'name': 'Integrações'}
]) }}
{% endblock %}

{% block content %}
<div class="tw-page-transition">
    <!-- Page Header -->
    <div class="tw-page-header">
        <div class="flex items-center gap-4">
            <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/30">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"/>
                </svg>
            </div>
            <div>
                <h1 class="text-2xl font-bold text-gray-900">Integrações</h1>
                <p class="text-gray-500">Conecte seu sistema com outras plataformas</p>
            </div>
        </div>
        <div class="tw-header-actions">
        </div>
    </div>

    <!-- Lista de Integrações -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for integration in integrations %}
        <a href="{% if integration.id == 'movidesk' %}{{ url_for('admin.movidesk_options') }}{% elif integration.id == 'whatsapp' %}{{ url_for('admin.evolution_whatsapp_options') }}{% else %}#{% endif %}" class="block">
            <div class="card p-6 hover:shadow-xl transition-all cursor-pointer animate-fade-in">
                <div class="flex items-start justify-between mb-4">
                    <div class="w-14 h-14 bg-gradient-to-br from-{{ integration.color }}-500 to-{{ integration.color }}-600 rounded-2xl flex items-center justify-center shadow-lg">
                        {% if integration.id == 'whatsapp' %}<i class="fab {{ integration.icon }} text-white text-3xl"></i>{% else %}<i class="fas {{ integration.icon }} text-white text-2xl"></i>{% endif %}
                    </div>
                    <span class="badge bg-green-100 text-green-700 text-xs">
                        <i class="fas fa-check-circle mr-1"></i>
                        Disponível
                    </span>
                </div>

                <h3 class="text-xl font-bold text-gray-900 mb-2">{{ integration.name }}</h3>
                <p class="text-sm text-gray-600 mb-4">{{ integration.description }}</p>

                <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                    <span class="text-sm font-semibold text-{{ integration.color }}-600">Acessar</span>
                    <i class="fas fa-arrow-right text-{{ integration.color }}-600"></i>
                </div>
            </div>
        </a>
        {% endfor %}
    </div>

    <!-- Botão Voltar -->
    <div class="mt-6 animate-fade-in">
        <a href="{{ url_for('admin.dashboard') }}" class="text-purple-900 hover:text-purple-700 font-semibold">
            <i class="fas fa-arrow-left mr-2"></i>
            Voltar para Dashboard
        </a>
    </div>
</div>
{% endblock %}
